syntax = "proto3";

package doublecloud.clickhouse.v1;

option go_package = "a.yandex-team.ru/cloud/doublecloud/public-api/doublecloud/clickhouse/v1;clickhouse";

import "google/protobuf/timestamp.proto";

message Backup {
    enum Type {
        TYPE_INVALID = 0;
        // Backup created by automated daily schedule
        TYPE_AUTOMATED = 1;
        // Backup created by user request
        TYPE_MANUAL = 2;
    }
    // Required. ID of the backup.
    string id = 1;
    // ID of the project that the backup belongs to.
    string project_id = 2;
    // User defined or autogenerated backup name. Contains shard name until we
    // implement consistent multishard backups.
    string name = 3;
    // The time when the backup was created (i.e. when the backup operation completed).
    google.protobuf.Timestamp create_time = 4;
    // The time when the backup operation was started.
    google.protobuf.Timestamp start_time = 5;
    // ID of the associated ClickHouse cluster.
    string source_cluster_id = 6;
    // Size of backup in bytes
    int64 size = 7;
    // How this backup was created (manual/automatic/etc...)
    Type type = 8;
}
